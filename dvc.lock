schema: '2.0'
stages:
  data_ingestion:
    cmd: python main.py --stage data_ingestion
    deps:
    - path: main.py
      hash: md5
      md5: ab67408eba0a1fa3a4173c137f7ecc6b
      size: 2037
    - path: src/customerSatisfaction/components/data_ingestion.py
      hash: md5
      md5: 6a6546927d243e5650a4e5b2f44699d3
      size: 2515
    - path: src/customerSatisfaction/pipeline/stage_01_data_ingestion.py
      hash: md5
      md5: a7c87bbbfd391b742ceeb4a7c6bd1419
      size: 1250
    outs:
    - path: artifacts/data_ingestion/customer_data/
      hash: md5
      md5: 797a00bc31008df615058ca198c64ad1.dir
      size: 126186995
      nfiles: 9
    - path: artifacts/data_ingestion/data.zip
      hash: md5
      md5: f2f3704ec08d55ef94fc2887bdc96472
      size: 44717580
  data_validation:
    cmd: python main.py --stage data_validation
    deps:
    - path: artifacts/data_ingestion/customer_data/
      hash: md5
      md5: 797a00bc31008df615058ca198c64ad1.dir
      size: 126186995
      nfiles: 9
    - path: main.py
      hash: md5
      md5: ab67408eba0a1fa3a4173c137f7ecc6b
      size: 2037
    - path: src/customerSatisfaction/components/data_validation.py
      hash: md5
      md5: 3804c077ec4e00b4a9c08d3c9a94a9f1
      size: 4032
    - path: src/customerSatisfaction/pipeline/stage_02_data_validation.py
      hash: md5
      md5: bc2c92ee711b653bffe33a1f987a4e9c
      size: 2045
    outs:
    - path: artifacts/data_validation/report.json
      hash: md5
      md5: 2ae5d988f5f82629b59891b16aee89ee
      size: 3260
    - path: artifacts/data_validation/status.txt
      hash: md5
      md5: 67b6efcb1da21f66751ea653f108c80c
      size: 37
    - path: artifacts/data_validation/validated_data/merged_stage2.parquet
      hash: md5
      md5: 8dfe68fd7a1fd722dc0d96397dfbfa2d
      size: 25705855
  feature_engineering:
    cmd: python main.py --stage feature_engineering
    deps:
    - path: artifacts/data_validation/validated_data/merged_stage2.parquet
      hash: md5
      md5: 8dfe68fd7a1fd722dc0d96397dfbfa2d
      size: 25705855
    - path: main.py
      hash: md5
      md5: ab67408eba0a1fa3a4173c137f7ecc6b
      size: 2037
    - path: src/customerSatisfaction/components/feature_engineering.py
      hash: md5
      md5: 354a9a9f014c036a78d58dae6cab05a6
      size: 6709
    - path: src/customerSatisfaction/pipeline/stage_03_feature_engineering.py
      hash: md5
      md5: dbadca09b3eda44d02426bb2a60cb6a3
      size: 2545
    outs:
    - path: artifacts/feature_engineering/feature_engineered_data.parquet
      hash: md5
      md5: 8bc338f6401565e03c2f9cc9d0ea87c5
      size: 19675489
  feature_selection:
    cmd: python main.py --stage feature_selection
    deps:
    - path: artifacts/feature_engineering/feature_engineered_data.csv
      hash: md5
      md5: 4cf189b5c6e30de5f9d7a77da8522a4d
      size: 9989877
    - path: params.yaml
      hash: md5
      md5: 88af02de19667b8797ea072916ada1a9
      size: 726
    - path: src/customerSatisfaction/components/feature_selection.py
      hash: md5
      md5: 47872209cb6b4691129f927dfb2749f3
      size: 5694
    outs:
    - path: artifacts/feature_selection/feature_importance_plot.png
      hash: md5
      md5: aa9399c914efba089484a27a7108dcf2
      size: 51347
    - path: artifacts/feature_selection/feature_importances.csv
      hash: md5
      md5: 2ebbf242f998a4aa2a9449951fd312d1
      size: 1104
    - path: artifacts/feature_selection/filtered_transformed_dataset.csv
      hash: md5
      md5: 0ffacad7ee8ad312cdf2cca042d80c8f
      size: 5761372
    - path: artifacts/feature_selection/selected_features.csv
      hash: md5
      md5: 905997abcf799f519a73280b255e8d6f
      size: 393
  model_training:
    cmd: python main.py --stage model_training
    deps:
    - path: artifacts/feature_transformation/train.csv
      hash: md5
      md5: d69cff1f5bd2607ace233730a4c906eb
      size: 42394310
    - path: main.py
      hash: md5
      md5: ab67408eba0a1fa3a4173c137f7ecc6b
      size: 2037
    - path: params.yaml
      hash: md5
      md5: 7680a9d65f064e834c0eb25a71e4c97d
      size: 1234
    - path: src/customerSatisfaction/components/model_trainer.py
      hash: md5
      md5: 8b8db45538e007b255703d8aeedf977d
      size: 4797
    - path: src/customerSatisfaction/pipeline/stage_05_model_training.py
      hash: md5
      md5: 840396814985d43718c8babbb94f412a
      size: 1868
    params:
      params.yaml:
        models:
          RandomForest:
            n_estimators: 140
            max_depth: 10
            class_weight: balanced
            random_state: 42
          GradientBoosting:
            n_estimators: 100
            learning_rate: 0.1
            max_depth: 3
            random_state: 42
          AdaBoost:
            n_estimators: 50
            learning_rate: 1.0
            random_state: 42
          CatBoost:
            iterations: 100
            learning_rate: 0.1
            depth: 6
            auto_class_weights: Balanced
            verbose: false
            random_state: 42
          MLP:
            hidden_layer_sizes:
            - 100
            solver: adam
            learning_rate_init: 0.001
            max_iter: 20
            random_state: 42
    outs:
    - path: artifacts/model_training/
      hash: md5
      md5: c857302feba9e300262c9e8b8fc0abad.dir
      size: 9445664
      nfiles: 5
  feature_transformation:
    cmd: python main.py --stage feature_transformation
    deps:
    - path: artifacts/feature_engineering/feature_engineered_data.parquet
      hash: md5
      md5: 8bc338f6401565e03c2f9cc9d0ea87c5
      size: 19675489
    - path: main.py
      hash: md5
      md5: ab67408eba0a1fa3a4173c137f7ecc6b
      size: 2037
    - path: params.yaml
      hash: md5
      md5: 7680a9d65f064e834c0eb25a71e4c97d
      size: 1234
    - path: src/customerSatisfaction/components/feature_transformation.py
      hash: md5
      md5: 46112028775f94676de8597114ce2102
      size: 7547
    - path: src/customerSatisfaction/pipeline/stage_04_feature_transformation.py
      hash: md5
      md5: 5a7a4798b692a324e13d4c49d20a3065
      size: 973
    outs:
    - path: artifacts/feature_transformation/test.csv
      hash: md5
      md5: 13a85f2f9c151542f75cf5527d6e0cbc
      size: 10596279
    - path: artifacts/feature_transformation/train.csv
      hash: md5
      md5: d69cff1f5bd2607ace233730a4c906eb
      size: 42394310
    - path: artifacts/feature_transformation/transformer.pkl
      hash: md5
      md5: 84716d579f7d8d376a0e0a9dd34f910f
      size: 6983
  model_evaluation:
    cmd: python main.py --stage model_evaluation
    deps:
    - path: artifacts/feature_transformation/test.csv
      hash: md5
      md5: 13a85f2f9c151542f75cf5527d6e0cbc
      size: 10596279
    - path: artifacts/feature_transformation/transformer.pkl
      hash: md5
      md5: 84716d579f7d8d376a0e0a9dd34f910f
      size: 6983
    - path: artifacts/model_training/
      hash: md5
      md5: c857302feba9e300262c9e8b8fc0abad.dir
      size: 9445664
      nfiles: 5
    - path: main.py
      hash: md5
      md5: ab67408eba0a1fa3a4173c137f7ecc6b
      size: 2037
    - path: params.yaml
      hash: md5
      md5: 7680a9d65f064e834c0eb25a71e4c97d
      size: 1234
    - path: src/customerSatisfaction/components/model_evaluation.py
      hash: md5
      md5: fd6e5f9a1f9ec3de32b4eff9e65b9ba7
      size: 7263
    - path: src/customerSatisfaction/pipeline/stage_06_model_evaluation.py
      hash: md5
      md5: 9b3ac4dfdd53ebf06bc0e6ded6092ec2
      size: 881
    outs:
    - path: artifacts/model_evaluation/metrics.json
      hash: md5
      md5: e2632dfd8dcda48524f390401ed65c6a
      size: 377
